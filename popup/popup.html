<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kindle Review Meter</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="header">
    <div class="header-content">
      <h1>📚 Kindle Review Meter</h1>
    </div>
  </div>

  <div class="main-container">
    <div id="view-settings" class="view active">
      <div class="card">
        <div class="form-grid">
          <div class="form-group">
            <label for="amazonUrl">Amazon書籍URL</label>
            <div class="input-group">
              <input type="url" id="amazonUrl" placeholder="https://www.amazon.co.jp/dp/...">
              <button type="button" class="btn primary" id="fetchAmazonBtn">
                🔍 自動取得
              </button>
            </div>
          </div>
          
          <div class="form-group">
            <label for="title">書籍タイトル</label>
            <input type="text" id="title" placeholder="書籍タイトル">
          </div>
          
          <div class="form-group">
            <label for="author">著者名</label>
            <input type="text" id="author" placeholder="著者名">
          </div>
          
          <div class="form-group">
            <label for="imageUrl">書影URL（任意）</label>
            <input type="url" id="imageUrl" placeholder="https://m.media-amazon.com/images/I/...">
          </div>
          
          <div class="form-group">
            <label for="reviewCount">現在のレビュー数</label>
            <input type="number" id="reviewCount" min="0" value="0">
          </div>
          
          <div class="form-group">
            <label for="targetReviews">目標レビュー数</label>
            <input type="number" id="targetReviews" min="1" placeholder="目標値（数値）を設定すると進捗バーが出現します">
          </div>

          <div class="form-group">
            <label for="associateTag">アソシエイトURL使用</label>
            <div class="associate-compact-layout">
              <input type="text" id="associateTag" placeholder="アソシエイトID（例: yourid-22）" class="associate-input-compact">
              <div class="toggle-switch-compact">
                <input type="checkbox" id="associateEnabled" class="toggle-input">
                <label for="associateEnabled" class="toggle-slider-compact">
                  <span class="toggle-knob-compact"></span>
                </label>
              </div>
            </div>
            <small class="input-description-compact">X投稿文の末尾に書籍URLを付与します。アソシエイトIDを設定するとアフィリエイトURLになります。</small>
          </div>
        </div>
        
        <div class="btn-group">
          <button class="btn primary" id="saveBtn">保存</button>
          <button class="btn primary" id="shareToXBtn">X投稿</button>
          <button class="btn secondary" id="exportBtn">画像DL</button>
          <button class="btn secondary" id="clearBtn">クリア</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Toast Container -->
  <div class="toast-container" id="toast-container"></div>

  <script type="module" src="main.js"></script>
</body>
</html>
